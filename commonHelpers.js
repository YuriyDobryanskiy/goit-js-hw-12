import{i as b,a as w,S as $}from"./assets/vendor-527658dd.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();const L="/goit-js-hw-12/assets/octagon-ddf7add7.svg";function l(r){b.error({theme:"dark",message:r,timeout:5e3,backgroundColor:"#EF4040",iconUrl:L,messageColor:"#FAFAFB",position:"topRight"})}const y=40,S="41936160-9a65f6e7e8f481bcadff71523",k="https://pixabay.com/api",p=async(r,e)=>{const a=`${k}/?key=${S}&q=${r}&image_type=photo&orientation=horizontal&safesearch=true&page=${e}&per_page=${y}`;try{const o=await w.get(a);return o.data.hits.length?o.data:(l("Sorry, there are no images matching your search query. Please, try again!"),loadMoreBtn.style.display="none",null)}catch(o){console.error("Error fetching images:",o),l("An error occurred while fetching images. Please try again.")}};function q(r){const e=r*2;window.scrollBy({top:e,behavior:"smooth"})}function E(){return document.querySelector(".gallery-item").getBoundingClientRect().height}function h({webformatURL:r,largeImageURL:e,tags:a,likes:o,views:t,comments:s,downloads:n}){return`<li class="gallery-item"><a class="gallery-link" href="${e}"><img class="gallery-image" src="${r}" data-source="${e}" loading="lazy" alt="${a}"></a><div class='gallery-history'><div class='block1'><span>Likes</span>${o}</div><div class='block2'><span>Views</span>${t}</div><div class='block3'><span>Comments</span>${s}</div><div class='block4'><span>Downloads</span>${n}</div></li>`}const g=new $(".gallery a",{showCounter:!1,captionsData:"alt",captionDelay:250});let c=null,i=null;const P=document.querySelector("#imageSearchForm"),f=document.querySelector("#searchInput"),d=document.querySelector(".loader"),u=document.querySelector("#gallery"),m=document.querySelector("#loadMoreBtn");P.addEventListener("submit",async function(r){if(r.preventDefault(),i=f.value.trim(),i===""){l("Please enter a search term.");return}d.style.display="block",u.innerHTML="",c=1;const e=await p(i,c);if(e){let a="";e.hits.forEach(o=>{a+=h(o)}),u.innerHTML=a,v(e.totalHits),g.refresh()}d.style.display="none",f.value=""});m.addEventListener("click",async function(r){r.preventDefault(),c+=1,d.style.display="block";const e=await p(i,c);if(e){let a="";e.hits.forEach(o=>{a+=h(o)}),u.insertAdjacentHTML("beforeend",a),v(e.totalHits),g.refresh()}d.style.display="none",q(E())});function v(r){const e=c*y;m.style.display=e<r?"block":"none",e>=r&&l("We're sorry, but you've reached the end of search results.")}
//# sourceMappingURL=commonHelpers.js.map
